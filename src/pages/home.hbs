<html lang="es">
  <head>
    <meta charset="utf-8" />
    <link
      rel="icon"
      href="https://cdn.glitch.global/9a5417db-bb1a-4800-b72a-a85bd7bcfce3/SnapSort4.png?v=1681151222606"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Import bootstrap -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-aFq/bzH65dt+w6FI2ooMVUpc+21e0SRygnTpmBvdBgSdnuTN7QbdgL+OapgHtvPp"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-qKXV1j0HvMUeCBQ+QVp7JcfGl760yU08IQ+GpUo5hlbpg51QRiuqHAJz8+BrxE/N"
      crossorigin="anonymous"
    ></script>

    <title>Galería</title>

<!--     <link rel="stylesheet" href="sidebars.css" /> -->
    <link rel="stylesheet" href="{{assetPath}}/sidebar.css">
  </head>
  <body>
     <!-- Modal new importation -->
    <div class="modal fade" id="modalNewImport" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="modalNewImportLongTitle">Importar nueva carpeta de drive </h5> 
            <img src="https://upload.wikimedia.org/wikipedia/commons/1/12/Google_Drive_icon_%282020%29.svg" class="m-2 pt-1" style="width:20;"/> 
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <form method="POST" action="/home/new" >
          <div class="modal-body">
              <div class=" form-outline mb-4">
                <input
                  type="text"
                  id="importationNameInput"
                  name="importationName"
                  class="form-control"
                  placeholder="Dale un título a la importación"
                />
                
              </div>
              <div class=" form-outline mb-4">
                <input
                    type="text"
                    id="urlInput"
                    name="url"
                    required
                    class="form-control"
                    placeholder="URL a la carpeta de Drive*"
                  />
              </div>
          </div>
          <div class="modal-footer">
            <button type="submit" class="btn btn-primary">Importar carpeta</button>
          </div>
         </form>

        </div>
      </div>
    </div>
   
    <div class="container-fluid">
    <div class="row vh-100 flex-nowrap">
       <!--------------------------SIDEBAR---------------------------------------------------------------------------------->
        <div class="col-auto  px-0">
            <div id="sidebar" class="collapse sidebar-collapse collapse-horizontal show border-end ">
                <div id="sidebar-nav" class="list-group border-0 rounded-0 text-sm-start vh-100  ">
                    <div
                      class="d-flex flex-column flex-shrink-0 p-3 bg-light"
                      style="width: 280px; height:100%;"
                    >
                      <a
                        href="/"
                        class="  mb-3 mb-md-0 me-md-auto link-dark " 
                      >
                        <img class="" src="https://cdn.glitch.global/9a5417db-bb1a-4800-b72a-a85bd7bcfce3/SnapSortH.png?v=1681851466520" style="height:3rem;">
                      </a>

                      <hr />
                      <ul class="nav nav-pills flex-column mb-auto">
                        <div class="row justify-content-between">
                          <div class="col-8 fs-4">Biblioteca</div>
                          <a 
                            href="#"
                            data-bs-toggle="modal" 
                            data-bs-target="#modalNewImport"
                            class="col mt-2 text-center link-dark "
                          >  
                          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus-lg" >
                            <path fill-rule="evenodd" d="M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2Z"/>
                          </svg>
                          </a>
                        </div>

                        <li class="nav-item ">
                          <a href="/home/" class="nav-link link-dark {{#if (eq currentPage 'Galeria')}}active{{/if}} ">
                            Toda la galería
                          </a>
                        </li>

                        <hr />
                        <div class="row justify-content-between">
                          <div class="col-8 fs-4">Importaciones </div>
                          <p class="col-2 display-6 mt-2 link-dark" style="font-size:16px;">{{importacionesSize}} </p>
                        </div>
                        <li>
                        </li>
                        {{#each importaciones}}
                        <li>
                          <a href="/home/{{this.[1]}}" class="nav-link link-dark {{#if (eq (toString currentPage) (toString this.[1]) )}}active{{/if}}"> 
                            {{this.[1]}}
                          </a>
                        </li>
                        {{/each}}

                      </ul>
                      <hr />
                      <div class="dropdown">
                        <a
                          href="#"
                          class="d-flex align-items-center link-dark text-decoration-none dropdown-toggle"
                          id="dropdownUser2"
                          data-bs-toggle="dropdown"
                          aria-expanded="false"
                        >
                          <img
                            src="https://cdn-icons-png.flaticon.com/512/1946/1946429.png"
                            alt=""
                            width="32"
                            height="32"
                            class="rounded-circle me-2"
                          />
                          <strong>{{username}}</strong>
                        </a>
                        <ul
                          class="dropdown-menu text-small shadow"
                          aria-labelledby="dropdownUser2"
                        >
                          <li><a class="dropdown-item" href="/perfil">perfil</a></li>
                          <li><hr class="dropdown-divider" /></li>
                          <li><a class="dropdown-item bg-danger text-white" href="/logout">Log out</a></li>
                        </ul>
                      </div>
                    </div>
                </div>
            </div>
        </div>
       <!-------------------------- END SIDEBAR---------------------------------------------------------------------------------->
        <main class="col ps-md-2 pt-2">
          <div class="container-fluid p-1 w-100">
          <!---------------------------NAVBAR------------------------------------------------------------------------------------>
            <nav class="navbar p-2 navbar-light bg-light">
              <div class="container-fluid ">
                
                <button
                  class="mx-1 navbar-brand navbar-toggler"
                  type="button"
                  data-bs-toggle="collapse"
                  data-bs-target="#sidebar"
                  aria-controls="sidebar"
                  aria-expanded="false"
                  aria-label="Toggle navigation"
                >
                  <span class="navbar-toggler-icon"></span>
                </button>
                <div class="row ">
                  <div class="col nav-item  bg-secundary ">
                    <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownDate" data-bs-toggle="dropdown" aria-expanded="false">
                      Ordenar por fecha
                    </button>
                    <ul class="dropdown-menu" aria-labelledby="dropdownDate">
                      <li><a class="dropdown-item" href="#">Action</a></li>
                    </ul>
                  </div>
                  <div class=" col nav-item dropdown">
                    <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownScore" data-bs-toggle="dropdown" aria-expanded="false">
                      Ordenar por score
                    </button>
                    <ul class="dropdown-menu" aria-labelledby="dropdownScore">
                      <li><a class="dropdown-item" href="#">Action</a></li>
                    </ul>
                  </div>
                  <div class="col nav-item  dropdown">
                    <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownLocation" data-bs-toggle="dropdown" aria-expanded="false">
                       quitar
                    </button>
                    <ul class="dropdown-menu" aria-labelledby="dropdownLocation">
                      <li><a class="dropdown-item" href="#">Action</a></li>
                    </ul>
                  </div>
                </div>
              </div>
            </nav>  
            <!------------------------END NAVBAR--------------------------------------------------------------------------------->
            <!------------------ RESTO DE LA VISTA-------------------------------------------------------->

            <div class="page-header pt-1 justify-content-between">
              <h2 class="mb-0">{{currentPage}} del usuario {{user.username}}</h2>
              <p class="mb-0 lead" style="font-size:16px"> 0 imágenes</p>
            </div>
            
            <hr>
            <div class="row">
                <div class="col-12">
                    <p class=" text-center lead">
                      {{#if (eq importacionesSize 0)}}
                        ¡Pulsa en el icono + en la barra lateral para importar una nueva carpeta!
                      {{else}}
                        Mostrando tus importaciones! <br> el valor de currentPage es {{currentPage}}
                      {{/if}}
                    </p>
                  
                </div>
            </div>
          </div>
        </main>
    </div>
</div>
    

    <script>

    $(document).ready(function(){
      // Inicializar los modales de Bootstrap
      $('#modalNewImport').modal();
    });
      
      
    </script>
  </body>
</html>